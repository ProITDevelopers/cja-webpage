<div class="container" >
  <div class="col-md-10 offset-md-1 col-sm-10 offset-sm-1" >
    <h1 class="text-center my-5">Registo de cartão jovem Angola</h1>
    <form (ngSubmit)="cadastrarMembro(membroF)" #membroF="ngForm" novalidate >
      <div class="form-group row"> 
        <div class="col-sm-6">
          <label class=" col-form-label">Nome próprio<span style="color: red">*</span></label>
          <div  [class.has-success]="nome.valid && ( nome.dirty || nome.touched)" [class.has-danger]="!nome.valid && ( nome.dirty || nome.touched)"> 
            <div class="input-group ">
              <div class="input-group-prepend">
                <span class="input-group-text" id="sizing-addon1"><i class="fa fa-user"></i></span>
              </div>
              <input type="text" class="form-control" placeholder="Escreva o seu nome" required name="nome" [(ngModel)]="membro.nomeProprio" #nome="ngModel" autocomplete="off">
            </div>
            <div class="alert alert-danger error" *ngIf="!nome.valid && ( nome.dirty || nome.touched)" style="margin-top: 5px;">*Campo obrigatório</div>
          </div> 
        </div>
        <div class="col-sm-6">
          <label class=" col-form-label">Apelido<span style="color: red">*</span></label>
          <div  [class.has-success]="apelido.valid && ( apelido.dirty || apelido.touched)" [class.has-danger]="!apelido.valid && ( apelido.dirty || apelido.touched)"> 
            <div class="input-group ">
              <div class="input-group-prepend">
                <span class="input-group-text" id="sizing-addon1"><i class="fa fa-user"></i></span>
              </div>
              <input type="text" class="form-control" placeholder="Escreva o seu apelido" required name="apelido" [(ngModel)]="membro.apelido" #apelido="ngModel" autocomplete="off">
            </div>
            <div class="alert alert-danger error" *ngIf="!apelido.valid && ( apelido.dirty || apelido.touched)" style="margin-top: 5px;">*Campo obrigatório</div>
          </div> 
        </div>
      </div> 
      <div class="form-group row">
        <div class="col-sm-6" >
          <label class=" col-form-label">Data de nascimento<span style="color: red">*</span></label>  
          <div class="input-group">
            <input type="text" id="dtn" name="dtnasc" class="form-control" [(ngModel)]="membro.dataNascimento" placeholder="Data de nascimento" #dp="bsDatepicker"
           bsDatepicker [minDate]="minDate" [maxDate]="maxDate" [bsConfig]="{ dateInputFormat: 'DD/MM/YYYY',containerClass:'theme-blue' }" required readonly>
            <div class="input-group-prepend"> 
              <span class="input-group-text" id="basic-addon" (click)="dp.toggle()" [attr.aria-expanded]="dp.isOpen">
              <i class="fa fa-calendar"></i>
              </span>
            </div>
          </div>
        </div>
        <div class="col-sm-6">
          <label class="col-form-label">Bilhete de identidade<span style="color: red">*</span></label>
          <div [class.has-success]="bi.valid && ( bi.dirty || bi.touched)" [class.has-danger]="!bi.valid && ( bi.dirty || bi.touched)">  
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text" id="sizing-addon1"><i class="fa fa-file-text"></i></span>
              </div>
              <input type="text" class="form-control" placeholder="Bilhete de identidade" required maxlength="14" minlength="14" name="bi" [(ngModel)]="membro.bi" #bi="ngModel" pattern="^[0-9]{9}[a-zA-Z]{2}[0-9]{3}" autocomplete="off">
            </div>
            <div class="alert alert-danger error" *ngIf="!bi.valid && ( bi.dirty || bi.touched)" style="margin-top: 5px;">
              <span *ngIf="bi.errors.required" class="help-block"><i class="fa fa-remove"></i> Campo obrigatório.</span>
              <span *ngIf="bi.errors.minlength" class="help-block"><i class="fa fa-remove"></i> Deve ter 14 caracteres</span>
              <span *ngIf="bi.errors.pattern" class="help-block"><i class="fa fa-remove"></i> Número do bilhete de identidade inválido</span>
            </div>
          </div>
        </div>
      </div>
      <div class="form-group row">  
        <div class="col-sm-6">
          <label class="col-form-label">E-mail<span style="color: red">*</span></label>
          <div  [class.has-success]="email.valid && ( email.dirty || email.touched)" [class.has-danger]="!email.valid && ( email.dirty || email.touched)">  
            <div class="input-group">
              <div class="input-group-prepend">
                <span class="input-group-text" id="sizing-addon1"><i class="fa fa-envelope"></i></span>
              </div>
              <input type="email" class="form-control" placeholder="email@email.com" required  pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$" name="email" [(ngModel)]="membro.email" #email="ngModel" autocomplete="off">
            </div>
            <div class="alert alert-danger" *ngIf="!email.valid && (email.dirty || email.touched)" style="margin-top: 5px;">
              <span *ngIf="email.errors.required" class="help-block"><i class="fa fa-remove"></i> Campo obrigatório.</span>
              <span *ngIf="email.errors.pattern" class="help-block"><i class="fa fa-remove"></i> Email inválido</span>
            </div> 
          </div>
        </div> <!---->
        <div class="col-sm-6">
          <label class="col-form-label">Nº Telemóvel<span style="color: red">*</span></label>
          <div [class.has-success]="telefone.valid && (telefone.dirty || telefone.touched)" [class.has-danger]="!telefone.valid && (telefone.dirty || telefone.touched)">  
            <div class="input-group">
              <div class="input-group-prepend"> 
                <span class="input-group-text" id="sizing-addon1"><i class="fa fa-phone"></i></span>
              </div>
              <input type="text" class="form-control" placeholder="Nº de telefone" required  name="telefone" minlength="9" maxlength="9" [(ngModel)]="membro.telemovel" #telefone="ngModel" autocomplete="off" pattern="^[0-9]*$">
            </div>
            <div class="alert alert-danger" *ngIf="!telefone.valid && (telefone.dirty || telefone.touched)" style="margin-top: 5px;">
              <span *ngIf="telefone.errors.required" class="help-block"><i class="fa fa-remove"></i> Campo obrigatório. </span>
              <span *ngIf="telefone.errors.minlength" class="help-block"><i class="fa fa-remove"></i> Deve ter no mínimo 9 dígitos</span>
              <span *ngIf="telefone.errors.pattern" class="help-block"><i class="fa fa-remove"></i> Formato inválido</span>
            </div>
          </div>
        </div>
      </div>
      <div class="form-group row"> 
        <div class="col-sm-6">
          <label class="col-form-label">Endereço de correspondência - Rua<span style="color: red">*</span></label>
          <div  [class.has-success]="rua.valid && ( rua.dirty || rua.touched)" [class.has-danger]="!rua.valid && ( rua.dirty || rua.touched)"> 
            <input type="text" class="form-control" placeholder="Escreva a rua" required name="rua" [(ngModel)]="membro.rua" #rua="ngModel" autocomplete="off">
            <div class="alert alert-danger error" *ngIf="!rua.valid && ( rua.dirty || rua.touched)" style="margin-top: 5px;">*Campo obrigatório</div>
          </div> 
        </div>
        <div class="col-sm-6">
          <label class="col-form-label">Endereço de correspondência - Cidade<span style="color: red">*</span></label>
          <div  [class.has-success]="cidade.valid && ( cidade.dirty || cidade.touched)" [class.has-danger]="!cidade.valid && ( cidade.dirty || cidade.touched)"> 
            <input type="text" class="form-control" placeholder="Escreva a cidade" required name="cidade" [(ngModel)]="membro.cidade" #cidade="ngModel" autocomplete="off">
            <div class="alert alert-danger error" *ngIf="!cidade.valid && ( cidade.dirty || cidade.touched)" style="margin-top: 5px;">*Campo obrigatório</div>
          </div>
        </div>
      </div> 
      <div class="form-group form-check">
        <input type="checkbox" class="form-check-input" id="exampleCheck1" [checked]="termo" (change)="termo= !termo">
        <label class="form-check-label" for="exampleCheck1">Concordo com a Política de Privacidade e os Termos de Serviço</label>
      </div>
      
      <div class="form-group row">
        <div class="col-sm-9">
           <button type="submit" class="btn btn-default mr-1" [disabled]="!membroF.form.valid || !termo"> Registrar </button>

          <button type="button" class="btn btn-outline-secondary" (click)="clean(membroF)"> Repor </button>
        </div>
      </div>
      <span style="color: red" *ngIf="dados">{{mensagem}}</span>
    </form>